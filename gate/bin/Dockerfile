FROM alpine

COPY ./gateway_linux /tmp/app/

WORKDIR /tmp/app

ENV SERVICE_TAGS=braid,gateway
ENV SERVICE_14001_NAME=gateway
ENV SERVICE_6060_IGNORE=true
ENV GOTRACEBACK=crash

# health
ENV SERVICE_CHECK_HTTP=/health
ENV SERVICE_CHECK_INTERVAL=15s
ENV SERVICE_CHECK_TIMEOUT=2s
ENV SERVICE_CHECK_PORT=14001

EXPOSE 14001


ENTRYPOINT ./gateway_linux $0 $@
