FROM golang:alpine

COPY ./base_linux /home/app/

WORKDIR /home/app

ENV SERVICE_TAGS=base
ENV SERVICE_14201_NAME=base

ENV SERVICE_CHECK_HTTP=/health
ENV SERVICE_CHECK_INTERVAL=15s
ENV SERVICE_CHECK_TIMEOUT=3s

ENV SERVICE_EXPOSE_PORT=14201
ENV SERVICE_CHECK_PORT=14202

ENV CONSUL_ADDR=127.0.0.1:8900

EXPOSE 14201

ENTRYPOINT ["./base_linux"]